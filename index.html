<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Dynamic Index (client-side)</title>
</head>
<body>
  <h1>Welcome</h1>
  <div id="dynamic">Loading...</div>

  <script>
    // fetch JSON from the existing handlers/hello.py plugin
    fetch('/plugins/hello')
      .then(r => r.json())
      .then(j => {
        document.getElementById('dynamic').textContent =
          `Plugin says: ${j.msg} (method=${j.method})`;
      })
      .catch(e => {
        document.getElementById('dynamic').textContent = 'Plugin error';
        console.error(e);
      });
  </script>
</body>
</html>